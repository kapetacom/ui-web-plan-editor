{
    "kind": "blockware/block-type-service:1.2.3",
    "metadata": {
        "name": "blockware/user"
    },
    "spec": {
        "target": {
            "kind": "blockware/language-target-java-spring-boot",
            "options": {
                "groupId": "org.mycompany",
                "artifactId": "service-users",
                "basePackage": "org.mycompany.services.users"
            }
        },
        "entities": {
            "types": [
                {
                    "name": "User",
                    "properties": {
                        "id": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        },
                        "email": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "consumers": [
            {
                "kind": "blockware/resource-type-postgresql",
                "metadata": {
                    "name": "usersdb"
                }
            }
        ],
        "providers": [
            {
                "kind": "blockware/resource-type-rest-api",
                "metadata": {
                    "name": "users"
                },
                "spec": {
                    "methods": {
                        "createUser": {
                            "description": "Create user",
                            "method": "POST",
                            "path": "/users/{id}",
                            "arguments": {
                                "id": {
                                    "type": "string",
                                    "transport": "path"
                                },
                                "user": {
                                    "type": "User",
                                    "transport": "body"
                                }
                            },
                            "responseType": {
                                "$ref": "User"
                            }
                        },
                        "getUser": {
                            "description": "Get user by id",
                            "method": "GET",
                            "path": "/users/{id}",
                            "arguments": {
                                "id": {
                                    "type": "string",
                                    "transport": "path"
                                }
                            },
                            "responseType": "User"
                        },
                        "deleteUser": {
                            "description": "Delete user by id",
                            "method": "DELETE",
                            "path": "/users/{id}",
                            "arguments": {
                                "id": {
                                    "type": "string",
                                    "transport": "path"
                                }
                            }
                        }
                    }
                }
            }
        ]
    }
}
